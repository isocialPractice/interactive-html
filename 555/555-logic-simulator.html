<html lang="en">
<!-- InstanceBegin template="/Templates/page.html" codeOutsideHTMLIsLocked="true" -->
<head>
<link rel="stylesheet" href="https://isocialpractice.github.io/interactive-html/css/style.css">
<link rel="icon" type="image/svg+xml" href="https://isocialpractice.github.io/interactive-html/img/favicon.svg">
<!-- InstanceBeginEditable name="head" -->
  <title>Computer Clock Logic Simulator</title>
  <style>
   * {
   margin: 0;
   padding: 0;
   box-sizing: border-box;
  }
  body {
   font-family: 'Inter', 'Segoe UI', -apple-system, system-ui, sans-serif;
   background: linear-gradient(135deg, #E6F2FF 0%, #F5F7FA 100%);
   padding: 24px;
   min-height: 100vh;
  }
  .container {
   max-width: 1000px;
   margin: 0 auto;
   background: #FFFFFF;
   border-radius: 16px;
   padding: 32px;
   box-shadow: 0 8px 24px rgba(0,0,0,0.12);
   border: 1px solid #E1E4E8;
  }
  h1 {
   color: #004080;
   margin-bottom: 8px;
   font-size: 28px;
   font-weight: 700;
  }
  .subtitle {
   color: #6C757D;
   margin-bottom: 32px;
   font-size: 15px;
   font-weight: 500;
  }
  .controls-panel {
   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
   gap: 20px;
   margin-bottom: 30px;
  }
  .control-box {
   background: #f8f9fa;
   padding: 20px;
   border-radius: 10px;
   border: 2px solid #ddd;
  }
  .control-title {
   font-weight: 600;
   color: #333;
   margin-bottom: 15px;
   font-size: 14px;
   text-transform: uppercase;
   letter-spacing: 0.5px;
  }
  .switch-group {
   display: flex;
   align-items: center;
   justify-content: space-between;
   margin-bottom: 15px;
  }
  .switch-label {
   font-weight: 500;
   color: #555;
  }
  .toggle-switch {
   position: relative;
   width: 60px;
   height: 30px;
   background: #ccc;
   border-radius: 15px;
   cursor: pointer;
   transition: background 0.3s;
  }
  .toggle-switch.on {
   background: #4CAF50;
  }
  .toggle-switch::after {
   content: '';
   position: absolute;
   width: 26px;
   height: 26px;
   background: white;
   border-radius: 50%;
   top: 2px;
   left: 2px;
   transition: left 0.3s;
   box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  }
  .toggle-switch.on::after {
   left: 32px;
  }
  .button-control {
   background: #2196F3;
   color: white;
   border: none;
   padding: 12px 24px;
   border-radius: 8px;
   font-size: 14px;
   font-weight: 600;
   cursor: pointer;
   transition: all 0.2s;
   width: 100%;
   text-transform: uppercase;
   letter-spacing: 0.5px;
  }
  .button-control:hover {
   background: #1976D2;
   transform: translateY(-2px);
   box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }
  .button-control:active {
   transform: translateY(0);
  }
  .logic-diagram {
   background: white;
   padding: 25px;
   border-radius: 10px;
   border: 2px solid #4facfe;
   margin-bottom: 20px;
  }
  .logic-title {
   font-weight: 600;
   color: #333;
   margin-bottom: 20px;
   text-align: center;
   font-size: 16px;
  }
  .gate-canvas {
   width: 100%;
   height: 400px;
   background: #fafafa;
   border-radius: 8px;
  }
  .output-display {
   background: #e8f5e9;
   padding: 25px;
   border-radius: 10px;
   text-align: center;
   border: 3px solid #4CAF50;
  }
  .output-label {
   color: #2e7d32;
   font-weight: 600;
   margin-bottom: 15px;
   font-size: 14px;
   text-transform: uppercase;
  }
  .clock-output {
   display: flex;
   align-items: center;
   justify-content: center;
   gap: 20px;
  }
  .output-value {
   font-size: 32px;
   font-weight: bold;
   color: #1b5e20;
  }
  .clock-led {
   width: 80px;
   height: 80px;
   border-radius: 50%;
   background: #ccc;
   box-shadow: inset 0 4px 10px rgba(0,0,0,0.2);
   transition: all 0.3s;
  }
  .clock-led.active {
   background: radial-gradient(circle, #4CAF50, #2e7d32);
   box-shadow: 0 0 40px #4CAF50, inset 0 4px 10px rgba(0,0,0,0.3);
  }
  .info-grid {
   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
   gap: 15px;
   margin-top: 20px;
  }
  .info-card {
   background: #f0f4ff;
   padding: 15px;
   border-radius: 8px;
   text-align: center;
  }
  .info-card-label {
   font-size: 11px;
   color: #666;
   margin-bottom: 5px;
   text-transform: uppercase;
  }
  .info-card-value {
   font-size: 18px;
   font-weight: bold;
   color: #4facfe;
  }
  .explanation {
   background: #fff3cd;
   padding: 20px;
   border-radius: 10px;
   margin-top: 20px;
   border-left: 4px solid #ffc107;
  }
  .explanation-title {
   font-weight: 600;
   color: #f57f17;
   margin-bottom: 10px;
  }
  .explanation-text {
   font-size: 13px;
   color: #666;
   line-height: 1.7;
  }
  </style>

<!-- InstanceEndEditable -->
</head>

<body>
 <nav class="site-nav">
  <div class="nav-container">
   <a href="https://isocialpractice.github.io/interactive-html/index.html" class="nav-brand">
    <img src="https://isocialpractice.github.io/interactive-html/img/favicon.svg" alt="Electronics Tools" class="nav-logo">
    <span>Interactive Tools</span>
   </a>
   <button class="nav-toggle" aria-label="Toggle menu" onclick="document.querySelector('.nav-menu').classList.toggle('active')">‚ò∞</button>
   <ul class="nav-menu">
    <li class="nav-item">
     <a href="https://isocialpractice.github.io/interactive-html/index.html" class="nav-link"><span>üè†</span> <span>Home</span></a>
    </li>
    <li class="nav-item nav-dropdown">
     <a href="https://isocialpractice.github.io/interactive-html/555/index.html" class="nav-link dropdown-toggle"><span>‚è±Ô∏è</span> <span>555 Timer</span></a>
     <div class="dropdown-menu">
      <a href="https://isocialpractice.github.io/interactive-html/555/555-timer-simulator.html" class="nav-link">Interactive Simulator</a>
      <a href="https://isocialpractice.github.io/interactive-html/555/555-astable-calculator.html" class="nav-link">Astable Calculator</a>
      <a href="https://isocialpractice.github.io/interactive-html/555/555-monostable-simulator.html" class="nav-link">Monostable Simulator</a>
      <a href="https://isocialpractice.github.io/interactive-html/555/555-logic-simulator.html" class="nav-link">Clock Logic Simulator</a>
     </div>
    </li>
    <li class="nav-item nav-dropdown">
     <a href="https://isocialpractice.github.io/interactive-html/electronics/index.html#resistorTools" class="nav-link dropdown-toggle"><span>üîå</span> <span>Resistors</span></a>
     <div class="dropdown-menu">
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-resistor-calculator.html" class="nav-link">Color Code Calculator</a>
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-parallel-resistor-calculator.html" class="nav-link">Parallel Calculator</a>
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-fusible-resistor-calculator.html" class="nav-link">Fusible Calculator</a>
     </div>
    </li>
    <li class="nav-item nav-dropdown">
     <a href="https://isocialpractice.github.io/interactive-html/electronics/index.html#ledAndPowerTools" class="nav-link dropdown-toggle"><span>üí°</span> <span>LED & Power</span></a>
     <div class="dropdown-menu">
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-ohms-law-calculator.html" class="nav-link">Ohm's Law</a>
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-led-current-calculator.html" class="nav-link">LED Calculator</a>
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-voltage-divider-calculator.html" class="nav-link">Voltage Divider</a>
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-varistor-simulator.html" class="nav-link">Varistor Simulator</a>
     </div>
    </li>
    <li class="nav-item nav-dropdown">
     <a ef="https://isocialpractice.github.io/interactive-html/electronics/index.html#components" class="nav-link dropdown-toggle"><span>üîß</span> <span>Components</span></a>
     <div class="dropdown-menu">
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-potentiometer-simulator.html" class="nav-link">Potentiometer Simulator</a>
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-potentiometer-decoder.html" class="nav-link">Potentiometer Decoder</a>
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-surface-mount-decoder.html" class="nav-link">SMD Decoder</a>
      <a href="https://isocialpractice.github.io/interactive-html/electronics/electronics-breadboard-simulator.html" class="nav-link">Breadboard Simulator</a>
     </div>
    </li>
    <li class="nav-item nav-dropdown">
     <a href="https://isocialpractice.github.io/interactive-html/general/index.html" class="nav-link dropdown-toggle"><span>üìê</span> <span>General</span></a>
     <div class="dropdown-menu">
      <a href="https://isocialpractice.github.io/interactive-html/general/general-volume-measurement.html" class="nav-link">Volume Measurement</a>
      <a href="https://isocialpractice.github.io/interactive-html/general/general-area-and-perimeter-calculator.html" class="nav-link">Area & Perimeter</a>
     </div>
    </li>
   </ul>
  </div>
 </nav>

<!-- InstanceBeginEditable name="page" -->
  <div class="container">
   <h1>üîå Computer Clock Logic Circuit Simulator</h1>
   <p class="subtitle">Interactive logic gate simulation (Ben Eater Computer Clock - Part 4)</p>

   <div class="controls-panel">
    <div class="control-box">
     <div class="control-title">‚è±Ô∏è Clock Mode</div>
     <div class="switch-group">
      <span class="switch-label">Select Mode</span>
      <div class="toggle-switch" id="selectSwitch" onclick="toggleSelect()">
      </div>
     </div>
     <p style="font-size: 12px; color: #888; margin-top: 10px;">
     ON = Astable (Auto) | OFF = Manual
     </p>
    </div>

    <div class="control-box">
     <div class="control-title">üëÜ Manual Pulse</div>
     <button class="button-control" id="manualBtn" onclick="triggerManual()">
      ‚ö° Trigger Pulse
     </button>
     <p style="font-size: 12px; color: #888; margin-top: 10px;">
     Active in Manual mode only
     </p>
    </div>

    <div class="control-box">
     <div class="control-title">üõë Halt Control</div>
     <div class="switch-group">
      <span class="switch-label">Halt Signal</span>
      <div class="toggle-switch" id="haltSwitch" onclick="toggleHalt()">
      </div>
     </div>
     <p style="font-size: 12px; color: #888; margin-top: 10px;">
     ON = Computer Halted
     </p>
    </div>
   </div>

   <div class="logic-diagram">
    <div class="logic-title">Logic Gate Circuit Flow</div>
    <canvas id="gateCanvas" class="gate-canvas"></canvas>
   </div>

   <div class="output-display">
    <div class="output-label">üí° Final Clock Output</div>
    <div class="clock-output">
     <div class="output-value" id="outputValue">LOW</div>
     <div class="clock-led" id="clockLed"></div>
    </div>
    <div class="info-grid">
     <div class="info-card">
      <div class="info-card-label">Astable Pulse</div>
      <div class="info-card-value" id="astableVal">0</div>
     </div>
     <div class="info-card">
      <div class="info-card-label">Manual Pulse</div>
      <div class="info-card-value" id="manualVal">0</div>
     </div>
     <div class="info-card">
      <div class="info-card-label">Select</div>
      <div class="info-card-value" id="selectVal">0</div>
     </div>
     <div class="info-card">
      <div class="info-card-label">Halt</div>
      <div class="info-card-value" id="haltVal">0</div>
     </div>
    </div>
   </div>

   <div class="explanation">
    <div class="explanation-title">üìö How the Logic Works:</div>
    <div class="explanation-text">
     <strong>AND Gates:</strong> Both inputs must be HIGH (1) for output to be HIGH.<br>
     <strong>OR Gate:</strong> At least one input must be HIGH for output to be HIGH.<br>
     <strong>Inverter (NOT):</strong> Flips the signal (1 ‚Üí 0, 0 ‚Üí 1).<br><br>

     When <strong>Select is ON</strong>, the astable clock pulses pass through AND gate #1 to the OR gate,
     while the manual pulse path is blocked by AND gate #2 (due to inverted Select).<br><br>

     When <strong>Select is OFF</strong>, manual pulses pass through AND gate #2, while the astable path is blocked.<br><br>

     The <strong>Halt signal</strong> uses the final AND gate to stop all clock pulses when activated,
     preventing the computer from executing any further instructions until reset.
    </div>
   </div>
  </div>

  <script>
  let astablePulse = 0;
  let manualPulse = 0;
  let selectMode = 0;
  let haltSignal = 0;
  let astableInterval;

  const canvas = document.getElementById('gateCanvas');
  const ctx = canvas.getContext('2d');

  function toggleSelect() {
   selectMode = selectMode === 0 ? 1 : 0;
   document.getElementById('selectSwitch').classList.toggle('on');

   if (selectMode === 1) {
    startAstable();
   } else {
   stopAstable();
   astablePulse = 0;
  }

  updateCircuit();
  }

  function toggleHalt() {
   haltSignal = haltSignal === 0 ? 1 : 0;
   document.getElementById('haltSwitch').classList.toggle('on');
   updateCircuit();
  }

  function triggerManual() {
   if (selectMode === 1) return; // Only works in manual mode

   manualPulse = 1;
   updateCircuit();

   setTimeout(() => {
    manualPulse = 0;
    updateCircuit();
   }, 300);
  }

  function startAstable() {
   if (astableInterval) clearInterval(astableInterval);

   astableInterval = setInterval(() => {
    astablePulse = astablePulse === 0 ? 1 : 0;
    updateCircuit();
   }, 500);
  }

  function stopAstable() {
   if (astableInterval) {
    clearInterval(astableInterval);
    astableInterval = null;
   }
  }

  function updateCircuit() {
   // Update display values
   document.getElementById('astableVal').textContent = astablePulse;
   document.getElementById('manualVal').textContent = manualPulse;
   document.getElementById('selectVal').textContent = selectMode;
   document.getElementById('haltVal').textContent = haltSignal;

   // Calculate logic
   const selectInv = selectMode === 1 ? 0 : 1;
   const and1 = astablePulse && selectMode;
   const and2 = manualPulse && selectInv;
   const or1 = and1 || and2;
   const haltInv = haltSignal === 1 ? 0 : 1;
   const finalOutput = or1 && haltInv;

   // Update output display
   const outputEl = document.getElementById('outputValue');
   const ledEl = document.getElementById('clockLed');

   if (finalOutput === 1) {
    outputEl.textContent = 'HIGH';
    ledEl.classList.add('active');
   } else {
   outputEl.textContent = 'LOW';
   ledEl.classList.remove('active');
  }

  drawCircuit(selectInv, and1, and2, or1, haltInv, finalOutput);
  }

  function drawCircuit(selectInv, and1, and2, or1, haltInv, finalOutput) {
   canvas.width = canvas.offsetWidth;
   canvas.height = canvas.offsetHeight;

   const w = canvas.width;
   const h = canvas.height;

   ctx.clearRect(0, 0, w, h);

   // Helper functions
   function drawWire(x1, y1, x2, y2, active) {
    ctx.strokeStyle = active ? '#4CAF50' : '#999';
    ctx.lineWidth = active ? 3 : 2;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
   }

   function drawSignal(x, y, value, label) {
    ctx.fillStyle = value === 1 ? '#4CAF50' : '#999';
    ctx.beginPath();
    ctx.arc(x, y, 8, 0, Math.PI * 2);
    ctx.fill();

    ctx.fillStyle = '#333';
    ctx.font = '12px Arial';
    ctx.textAlign = 'center';
    ctx.fillText(label, x, y - 15);
    ctx.fillText(value, x, y + 25);
   }

   function drawANDGate(x, y, out, label) {
    ctx.fillStyle = out === 1 ? '#e8f5e9' : '#f5f5f5';
    ctx.strokeStyle = out === 1 ? '#4CAF50' : '#666';
    ctx.lineWidth = 2;

    ctx.beginPath();
    ctx.rect(x - 30, y - 20, 45, 40);
    ctx.arc(x + 15, y, 20, -Math.PI/2, Math.PI/2);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#333';
    ctx.font = 'bold 11px Arial';
    ctx.textAlign = 'center';
    ctx.fillText(label, x, y + 5);
   }

   function drawORGate(x, y, out, label) {
    ctx.fillStyle = out === 1 ? '#e8f5e9' : '#f5f5f5';
    ctx.strokeStyle = out === 1 ? '#4CAF50' : '#666';
    ctx.lineWidth = 2;

    ctx.beginPath();
    ctx.moveTo(x - 30, y - 20);
    ctx.quadraticCurveTo(x + 10, y - 20, x + 35, y);
    ctx.quadraticCurveTo(x + 10, y + 20, x - 30, y + 20);
    ctx.quadraticCurveTo(x - 10, y, x - 30, y - 20);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#333';
    ctx.font = 'bold 11px Arial';
    ctx.textAlign = 'center';
    ctx.fillText(label, x, y + 5);
   }

   function drawInverter(x, y, out, label) {
    ctx.fillStyle = out === 1 ? '#e8f5e9' : '#f5f5f5';
    ctx.strokeStyle = out === 1 ? '#4CAF50' : '#666';
    ctx.lineWidth = 2;

    ctx.beginPath();
    ctx.moveTo(x - 15, y - 15);
    ctx.lineTo(x + 15, y);
    ctx.lineTo(x - 15, y + 15);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(x + 20, y, 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#333';
    ctx.font = 'bold 10px Arial';
    ctx.textAlign = 'center';
    ctx.fillText(label, x, y + 30);
   }

   // Layout
   const col1 = 80;
   const col2 = 220;
   const col3 = 400;
   const col4 = 580;
   const col5 = 760;

   // Input signals
   drawSignal(col1, 80, astablePulse, 'Astable');
   drawSignal(col1, 160, selectMode, 'Select');
   drawSignal(col1, 280, manualPulse, 'Manual');
   drawSignal(col1, 360, haltSignal, 'Halt');

   // Inverters
   drawInverter(col2, 160, selectInv, 'NOT');
   drawInverter(col2, 360, haltInv, 'NOT');

   // Wires to inverters
   drawWire(col1, 160, col2 - 35, 160, selectMode);
   drawWire(col1, 360, col2 - 35, 360, haltSignal);

   // AND gates
   drawANDGate(col3, 100, and1, 'AND1');
   drawANDGate(col3, 260, and2, 'AND2');

   // Wires to AND gates
   drawWire(col1, 80, col3 - 30, 90, astablePulse);
   drawWire(col1 + 100, 160, col3 - 30, 110, selectMode);
   drawWire(col2 + 25, 160, col2 + 100, 160, selectInv);
   drawWire(col2 + 100, 160, col2 + 100, 250, selectInv);
   drawWire(col2 + 100, 250, col3 - 30, 250, selectInv);
   drawWire(col1, 280, col3 - 30, 270, manualPulse);

   // OR gate
   drawORGate(col4, 180, or1, 'OR');

   // Wires to OR gate
   drawWire(col3 + 35, 100, col4 - 30, 170, and1);
   drawWire(col3 + 35, 260, col4 - 30, 190, and2);

   // Final AND gate
   drawANDGate(col5, 270, finalOutput, 'AND3');

   // Wires to final AND
   drawWire(col4 + 35, 180, col4 + 100, 180, or1);
   drawWire(col4 + 100, 180, col4 + 100, 260, or1);
   drawWire(col4 + 100, 260, col5 - 30, 260, or1);
   drawWire(col2 + 25, 360, col2 + 100, 360, haltInv);
   drawWire(col2 + 100, 360, col5 - 100, 360, haltInv);
   drawWire(col5 - 100, 360, col5 - 100, 280, haltInv);
   drawWire(col5 - 100, 280, col5 - 30, 280, haltInv);

   // Output
   drawSignal(col5 + 50, 270, finalOutput, 'Output');
   drawWire(col5 + 35, 270, col5 + 42, 270, finalOutput);
  }

  // Initial draw
  updateCircuit();
  </script>

<!-- InstanceEndEditable -->
<script>
  // embeddedScript
  // Debugging tool to adjust root link per localhost test, and github pages.

  var href = location.href;
  var pgHref = document.querySelectorAll("[href], [src]");
  if (href.indexOf("localhost") > -1) {
   let pgHrefLen = pgHref.length;
   for (i = 0; i < pgHrefLen; i++) {
    let curVal;
    if (pgHref[i].hasAttribute("href")) {
     curVal = pgHref[i].getAttribute("href");
     pgHref[i].setAttribute("href", curVal.replace("https://isocialpractice.github.io/interactive-html", ""));
    }
    if (pgHref[i].hasAttribute("src")) {
     curVal = pgHref[i].getAttribute("src");
     pgHref[i].setAttribute("src", curVal.replace("https://isocialpractice.github.io/interactive-html", ""));
    }
   }
  }
</script>
</body>
<!-- InstanceEnd --></html>